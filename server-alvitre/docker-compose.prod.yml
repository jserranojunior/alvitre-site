version: "2"

networks:
  internal:
    driver: bridge
services:
  apachealvitre:
    container_name: "apachealvitre"
    image: webdevops/php-apache:7.4
    tty: true
    restart: always
    volumes:
      - "./vhost.conf:/opt/docker/etc/httpd/vhost.conf"
      - "../dist:/var/www/html/alvitre"
    networks:
     - internal
    labels:
     - "traefik.enable=true"
     - "traefik.http.routers.sitealvitre.rule=Host(`www.alvitre.com.br`,`alvitre.com.br`)"
     - "traefik.http.services.sitealvitre.loadbalancer.server.port=80"

